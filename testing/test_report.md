#  Отчёт о результатах функционального тестирования 

Дата тестирования: 25.11.2025

Тестировщик: Александр П. 

Среда: локальный сервер (Java 17, PostgreSQL)

## Тест-кейсы: управление заказами

| **ID** | **Цель теста** | **Входные данные** | **Ожидаемый результат** | Фактический результат  | **Статус** |
| -- | --- | --- | --- | --- | --- |
| **O-01** | Создание заказа с промокодом | POST /order, ProductID=1, Quantity=5, PromoCode="SALE10" | 1\. Статус 201 Created. 2. Итоговая цена уменьшена на 10%. 3. Product.stock уменьшен на 5. | 1\. 201. 2. Промокод **игнорируется**. Цена не уменьшена. 3. Остаток уменьшен верно. | **FAIL** |
| --- | --- | --- | --- | --- | --- |
| **O-02** | Попытка заказа при 0 остатке | POST /order, ProductID=2, Quantity=1, Product.stock = 0 | Статус 400 Bad Request / Ошибка "Нет в наличии". | Статус 400. Выведено сообщение "Товар \[2\] отсутствует на складе". | **PASS** |
| --- | --- | --- | --- | --- | --- |

## Тест-кейсы: Управление товарами

| **ID** | **Цель теста** | **Входные данные** | **Ожидаемый результат** | Фактический результат  | **Статус** |
| --- | --- | --- | --- | --- | --- |
| **P-01** | Создание нового товара | POST /product, Name="Whey", Price=5000, ExpirationDate=2026-12-31 | Статус 201 Created. Запись в БД содержит все поля. | Статус 201. Поле ExpirationDate сохранено как null. | **FAIL** |
| --- | --- | --- | --- | --- | --- |
| **P-02** | Удаление товара с активным заказом | DELETE /product/1 (Товар 1 связан с Заказом 1) | Статус 409 Conflict / Ошибка "Нарушение целостности данных". | Статус 500 Internal Server Error (исключение JPA не обработано). | **FAIL** |
| --- | --- | --- | --- | --- | --- |

## Вывод по тестированию

Из 4 критических тестов 3 завершились с ошибками. Обнаружены проблемы в обработке промокодов, сохранении даты срока годности и обработке исключений при нарушении целостности БД.
